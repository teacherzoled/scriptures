<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Ed Classroom - God in My Situation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        /* General Styling & Variables - Updated with Color Psychology */
        :root {
            /* Primary Theme: Original Orange for Branding */
            --theme-primary: #e85d04; /* Dark Orange */
            --theme-primary-light: #fde6d8; /* Light Orange */
            --theme-text-on-dark: #ffffff;
            
            /* Feedback Colors */
            --feedback-correct: #198754; /* Green for Success */
            --feedback-correct-light: #d1e7dd;
            --feedback-incorrect: #dc3545; /* Red for Error */
            --feedback-incorrect-light: #f8d7da;

            /* Neutral & Accent Colors */
            --text-primary: #212529;
            --background-main: #f8f9fa;
            --background-card: #f2e6ff; /* Light Purple for creativity/calm */
            --accent-star: #ffc107; /* Yellow/Gold for Achievement */
            --border-neutral: #dee2e6;

            /* UI Element Styles */
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            --border-radius: 15px;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-main);
            color: var(--text-primary);
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header */
        .branded-header {
            background-color: var(--theme-primary-light);
            padding: 15px 30px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            border-bottom: 3px solid var(--theme-primary);
        }

        .branded-header img {
            height: 50px;
            width: 50px;
            margin-right: 15px;
        }

        .branded-header h1 {
            font-family: 'Playfair Display', serif;
            color: var(--theme-primary);
            font-size: 1.8rem;
            margin: 0;
        }

        /* Main Content & Lab Container */
        .main-content {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
        }

        .lab-container {
            background-color: var(--background-card);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 700px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* Progress Bar */
        .progress-bar {
            display: flex;
            justify-content: center;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.5); /* Semi-transparent white */
        }

        .progress-bar .star {
            font-size: 2rem;
            color: var(--border-neutral);
            margin: 0 5px;
            transition: color 0.3s ease;
        }

        .progress-bar .star.filled {
            color: var(--accent-star);
        }

        /* Views */
        .view {
            padding: 30px 40px;
            display: none; /* Hidden by default */
        }

        .view.active {
            display: block;
        }

        /* Start View */
        #start-view {
            text-align: center;
        }

        #start-view img {
            max-width: 100%;
            height: auto;
            max-height: 250px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        #start-view h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

        #start-view p {
            font-size: 1.1rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        /* Question View */
        #question-view .scenario {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 30px;
            line-height: 1.5;
            text-align: center;
        }

        #choices-container {
            display: grid;
            gap: 15px;
        }

        /* Correction View */
        #correction-view {
            text-align: center;
        }

        #correction-view h2 {
            font-size: 2rem;
            font-family: 'Playfair Display', serif;
            color: var(--feedback-incorrect);
        }

        #correction-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin: 20px 0 30px;
        }

        /* Completion View */
        #completion-view {
            text-align: center;
        }
        
        #completion-view .trophy {
            font-size: 80px;
            color: var(--accent-star);
        }

        #completion-view h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            margin: 20px 0 10px;
        }

        #completion-view p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        /* Buttons */
        .btn {
            display: block;
            width: 100%;
            padding: 15px 20px;
            font-size: 1.1rem;
            font-weight: 600;
            text-align: center;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: var(--theme-text-on-dark);
        }

        .btn-primary {
            background-color: var(--theme-primary);
        }

        .btn-primary:hover {
            background-color: #c24d03; /* Darker orange for hover */
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .btn-choice {
            background-color: #f8f9fa;
            border: 2px solid var(--border-neutral);
            color: var(--text-primary);
        }

        .btn-choice:hover {
            background-color: #e9ecef;
            border-color: #adb5bd;
        }
        
        .btn-choice.correct {
            background-color: var(--feedback-correct-light);
            border-color: var(--feedback-correct);
            color: var(--text-primary);
        }
        
        .btn-choice.incorrect {
            background-color: var(--feedback-incorrect-light);
            border-color: var(--feedback-incorrect);
            color: var(--text-primary);
        }

        /* Footer */
        .branded-footer {
            background-color: var(--theme-primary);
            color: var(--theme-text-on-dark);
            text-align: center;
            padding: 20px;
            margin-top: auto;
        }

        .branded-footer p {
            margin: 5px 0;
            font-size: 0.9rem;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .branded-header h1 {
                font-size: 1.5rem;
            }
            .view {
                padding: 20px;
            }
        }
    </style>
</head>
<body>

    <!-- Branded Header -->
    <header class="branded-header">
        <img src="https://i.postimg.cc/bwyD9j9w/Teacher-ed-Logo.png" alt="Teacher Ed Classroom Logo">
        <h1>Teacher Ed Classroom</h1>
    </header>

    <!-- Main Lab Content -->
    <main class="main-content">
        <div class="lab-container">
            <!-- Star-Based Progress Bar -->
            <div class="progress-bar">
                <!-- Stars will be generated by JavaScript -->
            </div>

            <!-- Start View -->
            <div id="start-view" class="view active">
                <img src="https://images.pexels.com/photos/1112048/pexels-photo-1112048.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="A person praying in a quiet, reflective setting">
                <h2>God in My Situation</h2>
                <p>Life is full of different challenges. God revealed His names so we can call on the aspect of His character we need most. Read each scenario and choose the name of God that best fits the situation.</p>
                <button id="start-btn" class="btn btn-primary">Start Lab</button>
            </div>

            <!-- Question View -->
            <div id="question-view" class="view">
                <p class="scenario" id="scenario-text"></p>
                <div id="choices-container">
                    <!-- Choices will be generated by JavaScript -->
                </div>
            </div>

            <!-- Correction View -->
            <div id="correction-view" class="view">
                <h2>Try Again</h2>
                <p id="correction-text"></p>
                <button id="continue-btn" class="btn btn-primary">Continue to Remediation</button>
            </div>

            <!-- Completion View -->
            <div id="completion-view" class="view">
                <div class="trophy">üèÜ</div>
                <h2>Congratulations!</h2>
                <p id="completion-text">You've completed the lab. Well done!</p>
                <button id="restart-btn" class="btn btn-primary">Restart Lab</button>
            </div>
        </div>
    </main>
    
    <!-- Branded Footer -->
    <footer class="branded-footer">
        <p>Every challenge you overcome makes you stronger. Keep learning and growing!</p>
        <p>¬© 2025 Mr. Edwin's Virtual Classroom ‚Äî All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA ---
            const labData = {
                q1: {
                    scenario: "Maria feels lonely and forgotten after moving to a new town. Which name would remind her that God sees her, even when she feels invisible?",
                    choices: ["El Roi", "Jehovah Jireh", "Elohim"],
                    correctAnswer: "El Roi",
                    correctionText: "Incorrect. El Roi, 'The God Who Sees,' is the perfect name to call on when feeling alone or forgotten."
                },
                q1_remediation: {
                    scenario: "El Roi is the name to remember when you feel...",
                    choices: ["Unseen", "Hungry"],
                    correctAnswer: "Unseen",
                    correctionText: "Remember, El Roi is 'The God Who Sees,' perfect for when you feel alone or forgotten."
                },
                q2: {
                    scenario: "David's family is struggling financially and is worried about paying their bills. To whom should they pray for their needs, remembering that He is 'The God Who Provides'?",
                    choices: ["Jehovah Jireh", "Yahweh Nissi", "El Roi"],
                    correctAnswer: "Jehovah Jireh",
                    correctionText: "Incorrect. They should pray to Jehovah Jireh, who knows what we need and can be trusted to provide."
                },
                q2_remediation: {
                    scenario: "Jehovah Jireh is the name to call on when you are in need of...",
                    choices: ["Provision", "a friend"],
                    correctAnswer: "Provision",
                    correctionText: "Remember, Jehovah Jireh is 'The God Who Provides' for all your needs."
                },
                q3: {
                    scenario: "A student is facing a difficult exam and feels overwhelmed. By calling on God as 'Lord, Master,' they can surrender their anxiety and trust His will. Which name should they use?",
                    choices: ["Adonai", "Abba", "Jehovah Rophe"],
                    correctAnswer: "Adonai",
                    correctionText: "Incorrect. By calling on Adonai, the student acknowledges God as their Master and can surrender their worries to Him."
                },
                q3_remediation: {
                    scenario: "Surrendering your will to God as your 'Lord, Master' is to call on...",
                    choices: ["Adonai", "Abba"],
                    correctAnswer: "Adonai",
                    correctionText: "Remember, Adonai means 'Lord, Master,' and we call on Him when we need to surrender to His will."
                },
                q4: {
                    scenario: "Sarah is battling a long-term illness and is praying for recovery. Which name for God speaks directly to His power as 'The God Who Heals'?",
                    choices: ["Jehovah Rophe", "Yahweh Tsuri", "Adonai"],
                    correctAnswer: "Jehovah Rophe",
                    correctionText: "Incorrect. Sarah should cry out to Jehovah Rophe, the source of all physical, emotional, and spiritual healing."
                },
                q4_remediation: {
                    scenario: "The name to pray for physical or emotional healing is...",
                    choices: ["Jehovah Rophe", "Yahweh Nissi"],
                    correctAnswer: "Jehovah Rophe",
                    correctionText: "Remember, Jehovah Rophe is 'The God Who Heals'."
                },
                q5: {
                    scenario: "A group of friends is standing up for what is right at school, even though it's unpopular. They can be confident that 'The Lord My Banner' is on their side. What name should they remember?",
                    choices: ["Yahweh Nissi", "El Roi", "Jehovah-M'Kaddesh"],
                    correctAnswer: "Yahweh Nissi",
                    correctionText: "Incorrect. Yahweh Nissi is the name to call on in any struggle or battle, knowing this powerful God is on your side."
                },
                q5_remediation: {
                    scenario: "When you are in a struggle, you can call on 'The Lord My Banner,' who is...",
                    choices: ["Yahweh Nissi", "El Roi"],
                    correctAnswer: "Yahweh Nissi",
                    correctionText: "Remember, Yahweh Nissi is your banner, the undefeated God on your side in any struggle."
                },
                q6: {
                    scenario: "When looking at a beautiful sunset, John is filled with wonder at the universe. Which name honors God as the magnificent 'Creator' of all things?",
                    choices: ["Elohim", "Yahweh Roi", "Abba"],
                    correctAnswer: "Elohim",
                    correctionText: "Incorrect. Acknowledging Elohim in this moment is to praise the Creator who brings beauty to the world."
                },
                q6_remediation: {
                    scenario: "The name that honors God as the Creator of all things is...",
                    choices: ["Elohim", "Yahweh Roi"],
                    correctAnswer: "Elohim",
                    correctionText: "Remember, Elohim is the name for God the 'Creator'."
                },
                q7: {
                    scenario: "After making a mistake, a young boy feels guilty but wants to live a better life. He can pray to 'The God Who Sanctifies' to help him in this new transformation. Which name is this?",
                    choices: ["Jehovah-M'Kaddesh", "Yahweh Tsuri", "Adonai"],
                    correctAnswer: "Jehovah-M'Kaddesh",
                    correctionText: "Incorrect. He can ask Jehovah-M'Kaddesh, 'The God Who Sanctifies,' to help him live in the holiness that God extends to him."
                },
                q7_remediation: {
                    scenario: "To ask God to help you become more holy, you would pray to...",
                    choices: ["Jehovah-M'Kaddesh", "Yahweh Tsuri"],
                    correctAnswer: "Jehovah-M'Kaddesh",
                    correctionText: "Remember, Jehovah-M'Kaddesh is 'The God Who Sanctifies'."
                },
                q8: {
                    scenario: "During a frightening storm, a family feels their house shaking. They can pray to 'The Lord My Rock' for a sense of stability and peace. What name would they call upon?",
                    choices: ["Yahweh Tsuri", "Jehovah Jireh", "El Roi"],
                    correctAnswer: "Yahweh Tsuri",
                    correctionText: "Incorrect. When everything seems to be shaking, calling on Yahweh Tsuri, 'The Lord My Rock,' reminds us of His strength and stability."
                },
                q8_remediation: {
                    scenario: "When you need stability in uncertain times, you can call on 'The Lord My Rock,' or...",
                    choices: ["Yahweh Tsuri", "El Roi"],
                    correctAnswer: "Yahweh Tsuri",
                    correctionText: "Remember, Yahweh Tsuri is your 'Rock,' a firm foundation when the world shakes."
                },
                q9: {
                    scenario: "A girl feels lost and unsure which path to take after graduation. She needs guidance and care. Which name represents 'The Lord is My Shepherd,' who leads and guides His flock?",
                    choices: ["Yahweh Roi", "Elohim", "Yahweh Nissi"],
                    correctAnswer: "Yahweh Roi",
                    correctionText: "Incorrect. She can pray for Yahweh Roi to lead her, just as a shepherd leads his flock to still waters."
                },
                q9_remediation: {
                    scenario: "For guidance and care, you can pray to 'The Lord is My Shepherd,' also known as...",
                    choices: ["Yahweh Roi", "Adonai"],
                    correctAnswer: "Yahweh Roi",
                    correctionText: "Remember, Yahweh Roi is the shepherd who leads, protects, and cares for you."
                },
                q10: {
                    scenario: "After having a wonderful day with his family, a boy wants to thank God. He feels a close, loving connection to Him. What name, meaning 'Father,' expresses this relationship?",
                    choices: ["Abba", "Adonai", "Elohim"],
                    correctAnswer: "Abba",
                    correctionText: "Incorrect. Praying to Abba acknowledges God as a loving Father who cares deeply and unconditionally for His children."
                },
                q10_remediation: {
                    scenario: "The intimate name that means 'Father' is...",
                    choices: ["Abba", "Elohim"],
                    correctAnswer: "Abba",
                    correctionText: "Remember, Abba is the name for God as our loving 'Father'."
                }
            };

            // --- STATE ---
            let currentQuestionIndex = 1;
            let onRemediation = false;
            let score = 0;
            const totalMainQuestions = 10;

            // --- DOM ELEMENTS ---
            const views = document.querySelectorAll('.view');
            const progressBar = document.querySelector('.progress-bar');
            const startBtn = document.getElementById('start-btn');
            const scenarioText = document.getElementById('scenario-text');
            const choicesContainer = document.getElementById('choices-container');
            const correctionTextEl = document.getElementById('correction-text');
            const continueBtn = document.getElementById('continue-btn');
            const restartBtn = document.getElementById('restart-btn');
            const completionText = document.getElementById('completion-text');

            // --- FUNCTIONS ---

            /**
             * Initializes or resets the lab to its starting state.
             */
            function init() {
                currentQuestionIndex = 1;
                onRemediation = false;
                score = 0;
                updateProgressBar();
                showView('start-view');
            }

            /**
             * Hides all views and shows the one with the specified ID.
             * @param {string} viewId The ID of the view to show.
             */
            function showView(viewId) {
                views.forEach(view => view.classList.remove('active'));
                const activeView = document.getElementById(viewId);
                activeView.classList.add('active');

                // If showing the completion view, update the text
                if (viewId === 'completion-view') {
                    completionText.textContent = `You earned ${score} out of ${totalMainQuestions} stars! Well done.`;
                }
            }

            /**
             * Shuffles an array in place.
             * @param {Array} array The array to shuffle.
             * @returns {Array} The shuffled array.
             */
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            /**
             * Renders the current question (main or remediation).
             */
            function renderQuestion() {
                const questionId = onRemediation ? `q${currentQuestionIndex}_remediation` : `q${currentQuestionIndex}`;
                const questionData = labData[questionId];

                if (!questionData) {
                    console.error("Question data not found for:", questionId);
                    return;
                }

                scenarioText.textContent = questionData.scenario;
                choicesContainer.innerHTML = '';

                const shuffledChoices = shuffleArray([...questionData.choices]);

                shuffledChoices.forEach(choice => {
                    const button = document.createElement('button');
                    button.className = 'btn btn-choice';
                    button.textContent = choice;
                    button.onclick = () => handleAnswer(choice, questionData.correctAnswer);
                    choicesContainer.appendChild(button);
                });

                showView('question-view');
            }

            /**
             * Handles the user's answer selection.
             * @param {string} selectedChoice The text of the selected choice.
             * @param {string} correctAnswer The correct answer for the current question.
             */
            function handleAnswer(selectedChoice, correctAnswer) {
                const isCorrect = selectedChoice === correctAnswer;

                const choiceButtons = choicesContainer.querySelectorAll('.btn-choice');
                choiceButtons.forEach(button => {
                    button.disabled = true;
                    if (button.textContent === correctAnswer) {
                        button.classList.add('correct');
                    } else if (button.textContent === selectedChoice) {
                        button.classList.add('incorrect');
                    }
                });

                setTimeout(() => {
                    if (onRemediation) {
                        onRemediation = false; 
                        currentQuestionIndex++;
                        if (currentQuestionIndex > totalMainQuestions) {
                            showView('completion-view');
                        } else {
                            renderQuestion();
                        }
                    } else {
                        if (isCorrect) {
                            score++;
                            updateProgressBar();
                            currentQuestionIndex++;
                            if (currentQuestionIndex > totalMainQuestions) {
                                showView('completion-view');
                            } else {
                                renderQuestion();
                            }
                        } else {
                            showCorrectionView();
                        }
                    }
                }, 1500);
            }
            
            /**
             * Displays the correction view with the appropriate text.
             */
            function showCorrectionView() {
                const questionData = labData[`q${currentQuestionIndex}`];
                correctionTextEl.textContent = questionData.correctionText;
                showView('correction-view');
            }

            /**
             * Updates the star progress bar based on the current score.
             */
            function updateProgressBar() {
                progressBar.innerHTML = '';
                for (let i = 0; i < totalMainQuestions; i++) {
                    const star = document.createElement('span');
                    star.className = 'star';
                    star.innerHTML = '&#9733;'; // Star character
                    if (i < score) {
                        star.classList.add('filled');
                    }
                    progressBar.appendChild(star);
                }
            }
            
            // --- EVENT LISTENERS ---
            startBtn.addEventListener('click', () => {
                renderQuestion();
            });

            restartBtn.addEventListener('click', init);

            continueBtn.addEventListener('click', () => {
                onRemediation = true;
                renderQuestion();
            });

            // --- INITIALIZATION ---
            init();
        });
    </script>

</body>
</html>
